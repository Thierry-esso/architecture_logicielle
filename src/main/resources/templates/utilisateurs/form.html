<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>Créer un utilisateur</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css">
</head>
<body class="container mt-4">
    <!-- Inclusion du menu -->
    <div th:replace="nav/menu :: navbar"></div>

    <h1 th:text="${utilisateur.id} != null ? 'Modifier un utilisateur' : 'Ajouter un utilisateur'"></h1>

    <form th:action="${utilisateur.id} != null ? @{/utilisateurs/update/{id}(id=${utilisateur.id})} : @{/utilisateurs/save}" th:object="${utilisateur}" method="post">
        <label>Nom :</label>
        <input type="text" th:field="*{nom}" class="form-control" required/><br>

        <label>Email :</label>
        <input type="email" th:field="*{email}" class="form-control" required/><br>

        <label>Rôle :</label>
        <select th:field="*{role}" class="form-select" required>
            <option value="" disabled>-- Sélectionnez un profil --</option>
            <option th:each="r : ${roles}" th:value="${r}" th:text="${r}"></option>
        </select><br>

        <button type="submit" class="btn btn-success" th:text="${utilisateur.id} != null ? 'Modifier' : 'Ajouter'"></button>
        <a href="/utilisateurs" class="btn btn-primary">Retour à la liste</a>
    </form>
</body>
</html>
