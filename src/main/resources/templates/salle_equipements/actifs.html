<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>Assignations Actives</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css">
</head>
<body class="container mt-4">
    <!-- Inclusion du menu -->
    <div th:replace="nav/menu :: navbar"></div>

    <h1 class="mb-3">Assignations actives des équipement au [[${#temporals.format(date, 'dd/MM/yyyy HH:mm')}]]</h1>


    <div th:if="${errorMessage}" class="alert alert-danger">
        <p th:text="${errorMessage}"></p>
    </div>

    <div th:if="${successMessage}" class="alert alert-success">
        <p th:text="${successMessage}"></p>
    </div>

    <table class="table table-striped">
        <tr>
            <th>ID</th>
            <th>Salle</th>
            <th>Équipement</th>
            <th>Date Début</th>
            <th>Date Fin</th>
            <th>Actions</th>
        </tr>
        <tr th:each="se : ${salleEquipements}">
            <td th:text="${se.id}"></td>
            <td th:text="${se.salle.nom}"></td>
            <td th:text="${se.equipement.nom}"></td>
            <td th:text="${#temporals.format(se.dateDebut, 'dd/MM/yyyy HH:mm')}"></td>
            <td th:text="${#temporals.format(se.dateFin, 'dd/MM/yyyy HH:mm')}"></td>
            <td>
                <a th:href="@{'/salle-equipements/delete/' + ${se.id}}" class="btn btn-danger btn-sm">Retirer</a>
            </td>
        </tr>
    </table>

    <form th:action="@{/salle-equipements/actifs}" method="get">
        <label>Date: <input type="datetime-local" name="date" th:value="${date}" class="form-control" required/></label>
        <button type="submit" class="btn btn-success btn-sm">Filtrer</button>
        <a th:href="@{'/salle-equipements/actifs'}" class="btn btn-primary btn-sm">Annuler</a>
    </form>
</body>
</html>
